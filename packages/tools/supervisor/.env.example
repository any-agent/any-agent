# Tool Execution Supervisor - Environment Configuration
# Copy this file to .env and configure for your platform

# ==============================================================================
# DOCKER/PODMAN SOCKET PATH
# ==============================================================================
# Path to the Docker/Podman socket on your HOST machine
# This socket will be mounted into the supervisor container

# Mac + Podman
# Use the socket inside the Podman VM (not SSH-forwarded):
# DOCKER_SOCKET_PATH=/run/user/501/podman/podman.sock
# Note: 501 is the default user ID. Check yours with: id -u

# Mac + Docker Desktop
# Docker Desktop on Mac exposes the socket at:
# DOCKER_SOCKET_PATH=/var/run/docker.sock

# Linux + Docker
# Standard Docker socket location:
# DOCKER_SOCKET_PATH=/var/run/docker.sock

# Linux + Podman (rootless)
# Rootless podman uses XDG_RUNTIME_DIR:
# DOCKER_SOCKET_PATH=/run/user/1000/podman/podman.sock
# Or dynamically: ${XDG_RUNTIME_DIR}/podman/podman.sock

DOCKER_SOCKET_PATH=/var/run/docker.sock

# ==============================================================================
# ARTIFACT STORAGE PATH
# ==============================================================================
# Directory for storing job artifacts (input files, output files, stdout/stderr)
#
# CRITICAL: This path must be the SAME on both host and container!
# The supervisor container writes to this path, then tells the Docker daemon
# to mount subdirectories into worker containers. The Docker daemon needs to
# find these paths on the host filesystem.
#
# Choose a location that:
# 1. Exists on your host
# 2. Is writable by the supervisor container
# 3. Can be mounted at the same path in the container
# 4. (Mac + Podman) NOT in /tmp - VirtioFS has SELinux issues with non-root users

# Mac + Podman
# DO NOT use /tmp - VirtioFS causes SELinux permission issues for non-root users
# Use a path under /Users instead:
# AA_STORAGE_PATH=/Users/yourname/aa-storage
# Or hidden:
# AA_STORAGE_PATH=/Users/yourname/.aa-storage

# Mac + Docker Desktop
# /tmp works fine with Docker Desktop, or use /Users:
# AA_STORAGE_PATH=/Users/yourname/aa-storage

# Linux + Docker
# AA_STORAGE_PATH=/var/lib/aa-storage

# Linux + Podman (rootless)
# AA_STORAGE_PATH=/home/yourname/.local/share/aa-storage

AA_STORAGE_PATH=/Users/yourname/aa-storage

# ==============================================================================
# DEBUG UI
# ==============================================================================
# Enable the debug web UI at http://localhost:8080/debug
# Set to 'true' to enable, 'false' or remove to disable

DEBUG_UI=true

# ==============================================================================
# PLATFORM-SPECIFIC EXAMPLES
# ==============================================================================

# ---- Mac + Podman ----
# IMPORTANT: Do NOT use /tmp on Mac with Podman - use /Users instead
# Use the socket inside the Podman VM, not SSH-forwarded
# DOCKER_SOCKET_PATH=/run/user/501/podman/podman.sock
# AA_STORAGE_PATH=/Users/yourname/aa-storage
# DEBUG_UI=true

# ---- Mac + Docker Desktop ----
# DOCKER_SOCKET_PATH=/var/run/docker.sock
# AA_STORAGE_PATH=/Users/yourname/aa-storage
# DEBUG_UI=true

# ---- Linux + Docker ----
# DOCKER_SOCKET_PATH=/var/run/docker.sock
# AA_STORAGE_PATH=/var/lib/aa-storage
# DEBUG_UI=true

# ---- Linux + Podman (rootless) ----
# DOCKER_SOCKET_PATH=/run/user/1000/podman/podman.sock
# AA_STORAGE_PATH=/home/yourname/.local/share/aa-storage
# DEBUG_UI=true
